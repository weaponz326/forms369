<p>add-template-page works!</p>
<div class="container-scroller">
  <app-navigation-bar></app-navigation-bar>
  <div class="container-fluid page-body-wrapper">
    <app-side-bar></app-side-bar>
    <div class="main-panel">
      <div class="content-wrapper">

        <div class="row top">
          <div class="col-md-12 grid-margin">
            <div class="d-flex justify-content-between flex-wrap">
              <div class="d-flex align-items-end flex-wrap">
                <div class="mr-md-3 mr-xl-5">
                  <h2>Setup a template</h2>
                  <p class="mb-md-0">Design a new form template here, just drag the elements or click to add.</p>
                </div>
              </div>
              <div class="d-flex justify-content-between align-items-end flex-wrap">
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="_loading" class="row">
          <div class="col-md-12">
            <div class="d-flex justify-content-center pb-5 pt-5">
              <div class="spinner-border mt-5" style="width: 6rem; height: 6rem;" role="status">
                <span class="sr-only">Loading...</span>
              </div>
            </div>
          </div>
        </div>

        <div [hidden]="_loading || created" class="row">
          <div class="col-md-12 grid-margin stretch-card">
            <div class="card" style="height: 750px; overflow: scroll;">
              <div class="card-body">
                <p class="card-title">Create New Template</p>
                <p class="text-muted">
                  Drag and drop the form elements on your the right onto the panel on the left to create your form.
                  You can re-arrange the order of the elements you drag onto the left panel by dragging to your desired
                  position. You can also just click on an element to added for your form.
                </p>

                <form [formGroup]="form" (ngSubmit)="create()">
                  <div class="row mt-4">
                    <div class="col-9">
                      <div class="form-group">
                        <input type="text" formControlName="name" class="form-control"
                          placeholder="Enter Template Name"
                          [ngClass]="{'input-control-error': submitted && f.name.errors}">
                        <div *ngIf="submitted && f.name.errors">
                          <p class="input-error" *ngIf="f.name.errors.required">Form name is required</p>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="form-builder-container">
                    <div id="fb-editor"></div>
                  </div>

                  <button type="submit" *ngIf="!loading" class="btn btn-primary mt-2 mr-1">Create</button>
                  <button type="button" *ngIf="loading" class="btn btn-primary mr-2" type="button" disabled>
                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>&nbsp; &nbsp;
                    Please wait...
                  </button>
                  <button type="button" *ngIf="!loading" class="btn btn-primary mt-2 mr-1" (click)="reset()">Reset</button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="created" class="row">
          <div class="col-md-12 grid-margin">
            <div class="card pt-5 pb-5 text-center">
              <div class="card-body">
                <p class="card-title">Success</p>
                <p class="text-muted"></p>
                <div class="card-text">
                  <i class="mdi mdi-shield-check-outline text-primary" style="font-size: 12em;"></i>
                  <h2>1 Template Created</h2>
                  <h4>{{ formName }} template has been created and published</h4>
                  <p class="text-muted">You have succesfully created a a form template</p>
                </div>
                <div class="card-text mt-4">
                  <button type="button" class="btn btn-primary btn-lg btn-icon-text mr-2" (click)="createNew()">
                    <i class="mdi mdi-plus"></i>
                    Create New
                  </button>
                  <button type="button" class="btn btn-primary btn-lg btn-icon-text mr-2" (click)="preview()">
                    <i class="mdi mdi-eye"></i>
                    Preview
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
